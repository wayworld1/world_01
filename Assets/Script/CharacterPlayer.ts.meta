fileFormatVersion: 2
guid: f1a94ab9c4121fc45ab835671e69ee4e
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    ZEPETO_Character_Controller_1 = require(\"ZEPETO.Character.Controller\");\r\nconst
    ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nclass CharacterPlayer extends
    ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n    Start() {\r\n        //console.log(`[CharacterPlayer]
    ${this.gameObject.name}`);\r\n        this.zepetoCharacter = this.gameObject.GetComponent($typeof(ZEPETO_Character_Controller_1.ZepetoCharacter));\r\n       
    this.gameObject.layer = UnityEngine_1.LayerMask.NameToLayer(\"Player\");\r\n   
    }\r\n    FixedUpdate() {\r\n        var ray = new UnityEngine_1.Ray(this.transform.position,
    UnityEngine_1.Vector3.down);\r\n        var ref = $ref();\r\n        if (UnityEngine_1.Physics.Raycast(ray,
    ref, 1)) {\r\n            var hitInfo = $unref(ref);\r\n            var hitObj
    = hitInfo.collider.gameObject;\r\n            //console.log(\"on the Platform!!!\");\r\n           
    if (hitObj.layer == UnityEngine_1.LayerMask.NameToLayer(\"Platform\")) {\r\n               
    if (this.transform.parent != hitObj.transform) {\r\n                    this.transform.SetParent(hitObj.transform);\r\n               
    }\r\n                return;\r\n            }\r\n        }\r\n        if (this.transform.parent
    != null) {\r\n            this.transform.parent = null;\r\n        }\r\n    }\r\n   
    PlayRandomGesture() {\r\n        var randomIndex = Math.floor(Math.random() *
    this.contents.length);\r\n        var randomContent = this.contents[randomIndex];\r\n       
    console.log(`radom: ${randomContent.Id} : ${randomContent.Title}`);\r\n       
    this.PlayGesture(randomContent);\r\n        //if (!randomContent.IsDownloadedAnimation)
    {\r\n        //randomContent.DownloadAnimation(() => {\r\n        //this.zepetoCharacter.SetGesture(randomContent.AnimationClip);\r\n       
    //});\r\n        //} else {\r\n        //this.zepetoCharacter.SetGesture(randomContent.AnimationClip);\r\n       
    //}\r\n    }\r\n    PlayGestureWithId(id) {\r\n        var filteredContents =
    this.contents.filter(content => content.Id == id);\r\n        if (filteredContents.length
    > 0) {\r\n            //if (!filteredContents[0].IsDownloadedAnimation) {\r\n           
    //filteredContents[0].DownloadAnimation(() => {\r\n            //this.zepetoCharacter.SetGesture(filteredContents[0].AnimationClip);\r\n           
    //});\r\n            //} else {\r\n            //this.zepetoCharacter.SetGesture(filteredContents[0].AnimationClip);\r\n           
    //}\r\n            this.PlayGesture(filteredContents[0]);\r\n        }\r\n       
    else {\r\n            this.PlayRandomGesture();\r\n        }\r\n    }\r\n   
    PlayGesture(content) {\r\n        if (!content.IsDownloadedAnimation) {\r\n           
    content.DownloadAnimation(() => {\r\n                this.zepetoCharacter.SetGesture(content.AnimationClip);\r\n           
    });\r\n        }\r\n        else {\r\n            this.zepetoCharacter.SetGesture(content.AnimationClip);\r\n       
    }\r\n    }\r\n    StopGesture() {\r\n        this.zepetoCharacter.CancelGesture();\r\n   
    }\r\n    SetContents(contents) {\r\n        this.contents = contents;\r\n   
    }\r\n    InteractFurniture(pivot, gestureId) {\r\n        //this.zepetoCharacter.Teleport(pivot.position,
    pivot.rotation);\r\n        //this.PlayGestureWithId(gestureId);\r\n        this.StartCoroutine(this.Interaction(pivot,
    gestureId));\r\n    }\r\n    *Interaction(pivot, gestureId) {\r\n        this.zepetoCharacter.Teleport(pivot.position,
    pivot.rotation);\r\n        yield new UnityEngine_1.WaitForSeconds(0.3);\r\n       
    this.PlayGestureWithId(gestureId);\r\n    }\r\n}\r\nexports.default = CharacterPlayer;\r\n//#
    sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hhcmFjdGVyUGxheWVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiQ2hhcmFjdGVyUGxheWVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkNBQXFHO0FBQ3JHLDZFQUE4RDtBQUM5RCxpREFBcUQ7QUFHckQsTUFBcUIsZUFBZ0IsU0FBUSxxQ0FBcUI7SUFLOUQsS0FBSztRQUNELDJEQUEyRDtRQUMzRCxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxTQUFDLDZDQUFlLEVBQUcsQ0FBQztRQUN2RSxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssR0FBRyx1QkFBUyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUU1RCxDQUFDO0lBRUQsV0FBVztRQUNQLElBQUksR0FBRyxHQUFHLElBQUksaUJBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxxQkFBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pELElBQUksR0FBRyxHQUFHLElBQUksRUFBYyxDQUFDO1FBQzdCLElBQUkscUJBQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUM5QixJQUFJLE9BQU8sR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDMUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUM7WUFDekMsb0NBQW9DO1lBQ3BDLElBQUksTUFBTSxDQUFDLEtBQUssSUFBSSx1QkFBUyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsRUFBRTtnQkFDbkQsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsU0FBUyxFQUFFO29CQUMzQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7aUJBQzlDO2dCQUNELE9BQU87YUFDVjtTQUNKO1FBRUQs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","assetPath":"Assets/Script/CharacterPlayer.ts","manifest":{"properties":[],"name":"CharacterPlayer","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: 2494ff198d5c5c53cb88f0dfc9f8b9d6
  onlyWriteTrigger: 0
